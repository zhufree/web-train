<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>jq-end</title>
</head>
<body>
    <p>end() 方法结束当前链条中的最近的筛选操作，并将匹配元素集还原为之前的状态。</p>
    <p>大多数 jQuery 的遍历方法会操作一个 jQuery 对象实例，并生成一个匹配不同 DOM 元素集的新对象。当发生这种情况时，应该会把新的元素集推入维持在对象中的堆栈内。每次成功的筛选方法调用都会把新元素推入堆栈中。如果我们需要老的元素集，可以使用 end() 从堆栈中弹出新集合。</p>
    <ul class="first">
       <li class="foo">list item 1:foo</li>
       <li>list item 2</li>
       <li class="bar">list item 3:bar</li>
    </ul>
    <ul class="second">
       <li class="foo">list item 1</li>
       <li>list item 2</li>
       <li class="bar">list item 3</li>
    </ul>
    <button>click:foo->red/bar->green</button>
    <pre>
        $(function(){
            $(document).on('click', 'button', function(event) {
                event.preventDefault();
                $('ul.first').find('.foo').css('background-color', 'red')
                .end().find('.bar').css('background-color', 'green');
            });
        });
    </pre>
</body>
<script src="http://cdn.bootcss.com/jquery/2.2.1/jquery.min.js"></script>
<script>
$(function(){
    $(document).on('click', 'button', function(event) {
        event.preventDefault();
        $('ul.first').find('.foo').css('background-color', 'red')
        .end().find('.bar').css('background-color', 'green');
    });
});
</script>
</html>